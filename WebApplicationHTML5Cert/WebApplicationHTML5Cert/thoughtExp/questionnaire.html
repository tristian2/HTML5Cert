<!DOCTYPE html>
<html>
<head>
    <title>Questionnaire</title>
	<meta charset="utf-8" />
    <script type="text/javascript" src="../scripts/jquery-1.11.3.min.js"></script>
    <script type="text/javascript">
        function init() {
            console.log('initialising...');
            $('.question').attr("style", "display:none");
            //add event handler to all inputs
            $('.question > input').attr("onclick", "update(this)");
            $('#q1').attr("style", "display:block");
        };
        window.onload = function () {
            init(); 
        };
        function update(control) {
            console.log('need to do something');
            //check control name and value
            if (control.name === 'q1') {
                if (control.value === 'yes') {
                    $('#q2').attr("style", "display:block");
                } else {
                    $('#q3').attr("style", "display:block");
                    $('#q6').attr("style", "display:block");
                }
            }

            if (control.name === 'q2') {
                if (control.value === 'yes') {
                    $('#q4').attr("style", "display:block");
                    $('#q10').attr("style", "display:block");
                } else {                    
                    $('#q5').attr("style", "display:block");
                    $('#q10').attr("style", "display:block");
                }
            }

            if (control.name === 'q6') {
                if (control.value === 'yes') {
                    $('#q7').attr("style", "display:block");
                    $('#q9').attr("style", "display:block");
                    $('#q10').attr("style", "display:block");
                } else {
                    $('#q8').attr("style", "display:block");
                    $('#q9').attr("style", "display:block");
                    $('#q10').attr("style", "display:block");
                }
            }

        };
        
    </script>
</head>
<body> 
    <header>
        <h1>Questionnaire</h1>
        <h2>thought exp on P69</h2>
        <nav>
            <a href="">Home</a>
            <a href="">Page 1</a>
            <a href="">Page 2</a>
            <a href="">Page 3</a>
        </nav>
    </header>
    <article>
        <header>
            <hgroup>
                <h1>Dynamic Questionnaire</h1>               
            </hgroup>
        </header>
        <section>
            <div id="q1" class="question">Question 1: yes <input type="radio" name="q1" value="yes" />  or no <input type="radio" name="q1" value="no" />? </div>
            <div id="q2" class="question">Question 2: yes <input type="radio" name="q2" value="yes" />  or no <input type="radio" name="q2" value="no" />? </div>
            <div id="q3" class="question">Question 3: blah? </div>
            <div id="q4" class="question">Question 4: blah? </div>
            <div id="q5" class="question">Question 5: blah? </div>
            <div id="q6" class="question">Question 6: yes <input type="radio" name="q6" value="yes" />  or no <input type="radio" name="q6" value="no" />? </div>
            <div id="q7" class="question">Question 7: blah? </div>
            <div id="q8" class="question">Question 8: blah? </div>
            <div id="q9" class="question">Question 9: blah? </div>
            <div id="q10" class="question">Question 10: okay? </div>            
        </section>
    </article>   
    <footer>
        (c) 2015
    </footer>
</body>
</html>
